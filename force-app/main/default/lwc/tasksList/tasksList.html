<template>
    <lightning-card title={category.label} icon-name={category.icon}>
        <div slot="actions">
            <lightning-button-icon class="slds-m-left_x-small" icon-name="utility:adduser" alternative-text="Share">
            </lightning-button-icon>
    
            <lightning-button-menu class="slds-m-left_x-small" alternative-text="Show menu">
                <lightning-menu-item disabled value="DuplicateList" label="Duplicate List"></lightning-menu-item>
                <lightning-menu-item value="EmailList" label="Email List"></lightning-menu-item>
            </lightning-button-menu>
        </div>
    </lightning-card>
    
    <template if:true={isMyday}>
        <span class="slds-badge slds-m-top_x-small slds-m-bottom_x-small">
            <lightning-formatted-date-time value={today} month="short" day="2-digit" weekday="long">
            </lightning-formatted-date-time>
        </span>
    </template>
    
    <template if:true={isMyday}>
        <template for:each={tasks} for:item="task">
            <c-task key={task.Id} task={task}></c-task>
        </template>
    </template>
    
    <template if:true={isImportant}>
        <template for:each={importantTasks} for:item="task">
            <c-task key={task.Id} task={task}></c-task>
        </template>
    </template>
    
    <template if:true={isTasks}>
        <template for:each={tasks} for:item="task">
            <c-task key={task.Id} task={task}></c-task>
        </template>
    </template>
    
    <template if:true={isTodo}>
        <div class="todo-list-item slds-m-top_x-small">
            <input type="checkbox" class="todo-list-item__checkbox" name="taskTimeState" id="outdated">
            <label for="outdated" class="todo-list-item__label">
                <lightning-badge label="Outdated"></lightning-badge>
            </label>
            <div class="todo-list-item__content">
                <template for:each={tasks} for:item="task">
                    <c-task key={task.Id} task={task}></c-task>
                </template>
            </div>
        </div>
        <div class="todo-list-item slds-m-top_x-small">
            <input type="checkbox" class="todo-list-item__checkbox" name="taskTimeState" id="today">
            <label for="today" class="todo-list-item__label">
                <lightning-badge label="Today"></lightning-badge>
            </label>
            <div class="todo-list-item__content">
                <template for:each={tasks} for:item="task">
                    <c-task key={task.Id} task={task}></c-task>
                </template>
            </div>
        </div>
        <div class="todo-list-item slds-m-top_x-small">
            <input type="checkbox" class="todo-list-item__checkbox" name="taskTimeState" id="tomorrow">
            <label for="tomorrow" class="todo-list-item__label">
                <lightning-badge label="Tomorrow"></lightning-badge>
            </label>
            <div class="todo-list-item__content">
                <template for:each={tasks} for:item="task">
                    <c-task key={task.Id} task={task}></c-task>
                </template>
            </div>
        </div>
        <div class="todo-list-item slds-m-top_x-small">
            <input type="checkbox" class="todo-list-item__checkbox" name="taskTimeState" id="nextWeek">
            <label for="nextWeek" class="todo-list-item__label">
                <lightning-badge label="Next week"></lightning-badge>
            </label>
            <div class="todo-list-item__content">
                <template for:each={tasks} for:item="task">
                    <c-task key={task.Id} task={task}></c-task>
                </template>
            </div>
        </div>
        <div class="todo-list-item slds-m-top_x-small">
            <input type="checkbox" class="todo-list-item__checkbox" name="taskTimeState" id="later">
            <label for="later" class="todo-list-item__label">
                <lightning-badge label="Later"></lightning-badge>
            </label>
            <div class="todo-list-item__content">
                <template for:each={tasks} for:item="task">
                    <c-task key={task.Id} task={task}></c-task>
                </template>
            </div>
        </div>
    </template>
    
    <template if:true={isTasks}>
        <div class="slds-card create-task-form-wrapper slds-m-top_small slds-p-around_medium">
            <c-create-form btn-label="New Task" input-label="Task name" onsave={handleSaveTask}>
            </c-create-form>
        </div>
    </template>
</template>